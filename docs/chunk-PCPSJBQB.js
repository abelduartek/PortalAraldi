import{a as J,b as K}from"./chunk-4UXQKXKU.js";import{a as q,b as H}from"./chunk-4EGVALWB.js";import{a as z}from"./chunk-PZY37AG5.js";import{a as F,b as A,d as L,k as G}from"./chunk-BKUSUYWF.js";import"./chunk-CGJ4C2IJ.js";import{a as B,b as W}from"./chunk-7F2FX24T.js";import{H as N,J as j,y as I}from"./chunk-ZOL5ZLUF.js";import{b as P,d as k,g as O,k as V}from"./chunk-KRKX4DJQ.js";import{Bb as r,Cb as M,Gb as C,Ha as d,Hb as x,Ib as D,Kb as E,Ma as w,Sa as v,Xa as h,Z as m,_ as u,a as f,gb as _,hb as e,ib as i,nb as T,ob as g,pb as c,qc as S,zb as y}from"./chunk-QFKUKTN6.js";var Q=()=>({width:"500px"});function R(a,p){if(a&1){let s=T();e(0,"div",14)(1,"h3"),r(2,"Tipos de Despesa Cadastrados"),i(),e(3,"button",15),g("click",function(){m(s);let o=c();return u(o.novoTipo())}),i()()}}function U(a,p){a&1&&(e(0,"tr")(1,"th"),r(2,"Nome"),i(),e(3,"th"),r(4,"Descri\xE7\xE3o"),i(),e(5,"th"),r(6,"A\xE7\xF5es"),i()())}function X(a,p){if(a&1){let s=T();e(0,"tr")(1,"td")(2,"strong"),r(3),i()(),e(4,"td"),r(5),i(),e(6,"td")(7,"div",16)(8,"button",17),g("click",function(){let o=m(s).$implicit,n=c();return u(n.editarTipo(o))}),i(),e(9,"button",18),g("click",function(){let o=m(s).$implicit,n=c();return u(n.excluirTipo(o))}),i()()()()}if(a&2){let s=p.$implicit;d(3),M(s.nome),d(2),M(s.descricao)}}function Y(a,p){if(a&1){let s=T();e(0,"div",19)(1,"button",20),g("click",function(){m(s);let o=c();return u(o.showDialog=!1)}),i(),e(2,"button",21),g("click",function(){m(s);let o=c();return u(o.salvarTipo())}),i()()}if(a&2){let s=c();d(2),_("label",s.editMode?"Atualizar":"Salvar")}}var fe=(()=>{let p=class p{constructor(t){this.mockDataService=t,this.tiposDespesa=[],this.showDialog=!1,this.editMode=!1,this.selectedTipo=this.getEmptyTipo()}ngOnInit(){this.loadData()}loadData(){this.mockDataService.getTiposDespesa().subscribe(t=>{this.tiposDespesa=t})}getEmptyTipo(){return{id:0,nome:"",descricao:""}}novoTipo(){this.selectedTipo=this.getEmptyTipo(),this.editMode=!1,this.showDialog=!0}editarTipo(t){this.selectedTipo=f({},t),this.editMode=!0,this.showDialog=!0}salvarTipo(){if(this.editMode){let t=this.tiposDespesa.findIndex(o=>o.id===this.selectedTipo.id);t!==-1&&(this.tiposDespesa[t]=f({},this.selectedTipo))}else this.selectedTipo.id=Math.max(...this.tiposDespesa.map(t=>t.id))+1,this.tiposDespesa.push(f({},this.selectedTipo));this.showDialog=!1}excluirTipo(t){confirm(`Deseja realmente excluir o tipo de despesa "${t.nome}"?`)&&(this.tiposDespesa=this.tiposDespesa.filter(o=>o.id!==t.id))}};p.\u0275fac=function(o){return new(o||p)(w(z))},p.\u0275cmp=v({type:p,selectors:[["app-tipos-despesa"]],decls:24,vars:11,consts:[[1,"tipos-despesa-cadastro"],[1,"page-header"],[1,"tipos-section"],["pTemplate","header"],[3,"value","responsive"],["pTemplate","body"],[3,"visibleChange","header","visible","modal","closable"],[1,"form-container"],[1,"form-field"],["for","nome"],["pInputText","","id","nome","placeholder","Nome do tipo de despesa",1,"w-full",3,"ngModelChange","ngModel"],["for","descricao"],["pInputTextarea","","id","descricao","placeholder","Descri\xE7\xE3o do tipo de despesa","rows","3",1,"w-full",3,"ngModelChange","ngModel"],["pTemplate","footer"],[1,"card-header"],["pButton","","label","Novo Tipo de Despesa","icon","pi pi-plus",1,"p-button-primary",3,"click"],[1,"action-buttons"],["pButton","","icon","pi pi-pencil","pTooltip","Editar",1,"p-button-text","p-button-sm",3,"click"],["pButton","","icon","pi pi-trash","pTooltip","Excluir",1,"p-button-text","p-button-sm","p-button-danger",3,"click"],[1,"dialog-footer"],["pButton","","label","Cancelar","icon","pi pi-times",1,"p-button-text",3,"click"],["pButton","","icon","pi pi-check",1,"p-button-primary",3,"click","label"]],template:function(o,n){o&1&&(e(0,"div",0)(1,"div",1)(2,"h2"),r(3,"Cadastro de Tipos de Despesa"),i(),e(4,"p"),r(5,"Gerencie as categorias de despesas da empresa"),i()(),e(6,"div",2)(7,"p-card"),h(8,R,4,0,"ng-template",3),e(9,"p-table",4),h(10,U,7,0,"ng-template",3)(11,X,10,2,"ng-template",5),i()()()(),e(12,"p-dialog",6),D("visibleChange",function(l){return x(n.showDialog,l)||(n.showDialog=l),l}),e(13,"div",7)(14,"div",8)(15,"label",9),r(16,"Nome *"),i(),e(17,"input",10),D("ngModelChange",function(l){return x(n.selectedTipo.nome,l)||(n.selectedTipo.nome=l),l}),i()(),e(18,"div",8)(19,"label",11),r(20,"Descri\xE7\xE3o"),i(),e(21,"textarea",12),D("ngModelChange",function(l){return x(n.selectedTipo.descricao,l)||(n.selectedTipo.descricao=l),l}),r(22,"      "),i()()(),h(23,Y,3,1,"ng-template",13),i()),o&2&&(d(9),_("value",n.tiposDespesa)("responsive",!0),d(3),y(E(10,Q)),_("header",n.editMode?"Editar Tipo de Despesa":"Novo Tipo de Despesa"),C("visible",n.showDialog),_("modal",!0)("closable",!0),d(5),C("ngModel",n.selectedTipo.nome),d(4),C("ngModel",n.selectedTipo.descricao))},dependencies:[S,W,B,I,G,L,j,N,H,q,A,F,K,J,V,P,k,O],styles:[".tipos-despesa-cadastro[_ngcontent-%COMP%]{padding:2rem}.page-header[_ngcontent-%COMP%]{margin-bottom:2rem}.page-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 .5rem;color:#2c3e50;font-size:2rem;font-weight:600}.page-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#6c757d;font-size:1.1rem}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem}.card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#2c3e50}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:.5rem}.form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem;padding:1rem 0}.form-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.form-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:#2c3e50;font-size:.9rem}.w-full[_ngcontent-%COMP%]{width:100%}.dialog-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem}@media (max-width: 768px){.card-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;align-items:stretch}}"]});let a=p;return a})();export{fe as TiposDespesaComponent};
