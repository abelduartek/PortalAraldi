import{a as L,b as z}from"./chunk-XKTK3IWF.js";import{d as U,k as $}from"./chunk-BKUSUYWF.js";import"./chunk-CGJ4C2IJ.js";import{a as N,b as V,j as W,k as Q}from"./chunk-7F2FX24T.js";import{H as R,J as j,y as A}from"./chunk-ZOL5ZLUF.js";import{d as k,g as F,k as B}from"./chunk-KRKX4DJQ.js";import{Ab as S,Bb as n,Cb as p,Db as _,Fb as w,Gb as P,Ha as r,Hb as b,Ib as y,Kb as O,Sa as v,Xa as s,Z as x,_ as h,gb as u,hb as e,ib as t,jb as I,nb as E,nc as D,ob as g,pb as d,qc as T,zb as M}from"./chunk-QFKUKTN6.js";var J=()=>({width:"300px"});function Z(i,m){if(i&1&&(e(0,"h3"),n(1),t()),i&2){let o=d(2);r(),_("Evolu\xE7\xE3o de Pre\xE7os - ",o.selectedItem.nome)}}function q(i,m){i&1&&(e(0,"h3"),n(1,"Informa\xE7\xF5es do Item"),t())}function G(i,m){if(i&1&&(e(0,"h3"),n(1),t()),i&2){let o=d(2);r(),_("\xDAltimas Compras - ",o.selectedItem.nome)}}function H(i,m){if(i&1&&(e(0,"tr")(1,"th"),n(2,"Data"),t(),e(3,"th"),n(4),t(),e(5,"th"),n(6,"Fornecedor"),t(),e(7,"th"),n(8,"Varia\xE7\xE3o"),t(),e(9,"th"),n(10,"A\xE7\xF5es"),t()()),i&2){let o=d(2);r(4),_("Valor por ",o.selectedItem.unidade)}}function K(i,m){if(i&1&&(e(0,"span"),n(1),t()),i&2){let o=d(),a=o.$implicit,l=o.rowIndex,c=d(2);S(a.valor>c.ultimasCompras[l+1].valor?"price-up":"price-down"),r(),w(" ",a.valor>c.ultimasCompras[l+1].valor?"+":""," ",((a.valor-c.ultimasCompras[l+1].valor)/c.ultimasCompras[l+1].valor*100).toFixed(1),"% ",a.valor>c.ultimasCompras[l+1].valor?"\u2197":"\u2198"," ")}}function X(i,m){i&1&&(e(0,"span",24),n(1,"-"),t())}function Y(i,m){if(i&1){let o=E();e(0,"tr")(1,"td"),n(2),t(),e(3,"td"),n(4),t(),e(5,"td"),n(6),t(),e(7,"td"),s(8,K,2,5,"span",21)(9,X,2,0,"span",22),t(),e(10,"td")(11,"button",23),g("click",function(){let l=x(o).$implicit,c=d(2);return h(c.verNota(l))}),t()()()}if(i&2){let o=m.$implicit,a=m.rowIndex,l=d(2);r(2),p(l.formatDate(o.data)),r(2),p(l.formatCurrency(o.valor)),r(2),p(o.fornecedor),r(2),u("ngIf",a<l.ultimasCompras.length-1),r(),u("ngIf",a===l.ultimasCompras.length-1)}}function ee(i,m){if(i&1&&(e(0,"div",8)(1,"div",9)(2,"div",10)(3,"p-card"),s(4,Z,2,1,"ng-template",11),I(5,"p-chart",12),t()(),e(6,"div",13)(7,"p-card"),s(8,q,2,0,"ng-template",11),e(9,"div",14)(10,"div",15)(11,"label"),n(12,"Nome:"),t(),e(13,"span"),n(14),t()(),e(15,"div",15)(16,"label"),n(17,"Categoria:"),t(),e(18,"span"),n(19),t()(),e(20,"div",15)(21,"label"),n(22,"Unidade:"),t(),e(23,"span"),n(24),t()(),e(25,"div",15)(26,"label"),n(27,"\xDAltimo Pre\xE7o:"),t(),e(28,"span",16),n(29),t()(),e(30,"div",15)(31,"label"),n(32,"Varia\xE7\xE3o:"),t(),e(33,"span",17),n(34,"+2.4% \u2197"),t()()()()()(),e(35,"div",18)(36,"p-card"),s(37,G,2,1,"ng-template",11),e(38,"p-table",19),s(39,H,11,1,"ng-template",11)(40,Y,12,5,"ng-template",20),t()()()()),i&2){let o=d();r(5),u("data",o.chartData)("options",o.chartOptions),r(9),p(o.selectedItem.nome),r(5),p(o.selectedItem.categoria),r(5),p(o.selectedItem.unidade),r(5),p(o.formatCurrency(33.5)),r(9),u("value",o.ultimasCompras)("responsive",!0)}}var Ce=(()=>{let m=class m{constructor(){this.itens=[{id:1,nome:"Queijo Mussarela",categoria:"Mat\xE9ria-prima",unidade:"kg"},{id:2,nome:"Queijo Parmes\xE3o",categoria:"Mat\xE9ria-prima",unidade:"kg"},{id:3,nome:"Pepperoni",categoria:"Mat\xE9ria-prima",unidade:"kg"},{id:4,nome:"Presunto",categoria:"Mat\xE9ria-prima",unidade:"kg"}],this.selectedItem=null,this.ultimasCompras=[{data:new Date("2024-01-10"),valor:32.5,fornecedor:"Latic\xEDnios S\xE3o Paulo"},{data:new Date("2024-01-05"),valor:31.8,fornecedor:"Latic\xEDnios S\xE3o Paulo"},{data:new Date("2023-12-28"),valor:33.2,fornecedor:"Distribuidora ABC"},{data:new Date("2023-12-20"),valor:32,fornecedor:"Latic\xEDnios S\xE3o Paulo"}]}ngOnInit(){this.selectedItem=this.itens[0],this.initChart()}initChart(){this.chartData={labels:["Dez/23","Jan/24","Fev/24","Mar/24","Abr/24","Mai/24"],datasets:[{label:"Pre\xE7o por kg",data:[32,32.5,31.8,33.2,32.9,33.5],borderColor:"#42A5F5",backgroundColor:"rgba(66, 165, 245, 0.2)",tension:.4,fill:!0}]},this.chartOptions={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Evolu\xE7\xE3o de Pre\xE7os"}},scales:{y:{beginAtZero:!1,ticks:{callback:function(a){return"R$ "+a.toFixed(2)}}}}}}onItemChange(){console.log("Item selecionado:",this.selectedItem)}formatCurrency(a){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(a)}formatDate(a){return new Intl.DateTimeFormat("pt-BR").format(new Date(a))}verNota(a){console.log("Ver nota da compra:",a)}editarItem(){console.log("Editar item:",this.selectedItem)}};m.\u0275fac=function(l){return new(l||m)},m.\u0275cmp=v({type:m,selectors:[["app-controle-itens"]],decls:14,vars:6,consts:[[1,"controle-itens"],[1,"page-header"],[1,"item-selector"],[1,"selector-content"],["for","itemSelect"],["id","itemSelect","optionLabel","nome","placeholder","Escolha um item",3,"ngModelChange","onChange","options","ngModel"],["pButton","","label","Editar Item","icon","pi pi-pencil",1,"p-button-secondary",3,"click"],["class","item-details",4,"ngIf"],[1,"item-details"],[1,"details-grid"],[1,"chart-section"],["pTemplate","header"],["type","line","width","100%","height","300px",3,"data","options"],[1,"info-section"],[1,"item-info"],[1,"info-row"],[1,"price-highlight"],[1,"price-up"],[1,"purchases-section"],[3,"value","responsive"],["pTemplate","body"],[3,"class",4,"ngIf"],["class","text-muted",4,"ngIf"],["pButton","","icon","pi pi-eye","pTooltip","Ver Nota",1,"p-button-text","p-button-sm",3,"click"],[1,"text-muted"]],template:function(l,c){l&1&&(e(0,"div",0)(1,"div",1)(2,"h2"),n(3,"Controle de Itens"),t(),e(4,"p"),n(5,"Acompanhe a evolu\xE7\xE3o de pre\xE7os e hist\xF3rico de compras"),t()(),e(6,"div",2)(7,"p-card")(8,"div",3)(9,"label",4),n(10,"Selecione um Item:"),t(),e(11,"p-dropdown",5),y("ngModelChange",function(f){return b(c.selectedItem,f)||(c.selectedItem=f),f}),g("onChange",function(){return c.onItemChange()}),t(),e(12,"button",6),g("click",function(){return c.editarItem()}),t()()()(),s(13,ee,41,8,"div",7),t()),l&2&&(r(11),M(O(5,J)),u("options",c.itens),P("ngModel",c.selectedItem),r(2),u("ngIf",c.selectedItem))},dependencies:[T,D,V,N,A,$,U,j,R,z,L,Q,W,B,k,F],styles:[".controle-itens[_ngcontent-%COMP%]{padding:2rem}.page-header[_ngcontent-%COMP%]{margin-bottom:2rem}.page-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 .5rem;color:#2c3e50;font-size:2rem;font-weight:600}.page-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#6c757d;font-size:1.1rem}.item-selector[_ngcontent-%COMP%]{margin-bottom:2rem}.selector-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1rem}.selector-content[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:#2c3e50}.item-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem}.details-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 1fr;gap:2rem}.item-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.info-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.5rem 0;border-bottom:1px solid #e9ecef}.info-row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:#2c3e50}.info-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#6c757d}.price-highlight[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;color:#2c3e50!important}.price-up[_ngcontent-%COMP%]{color:#4caf50!important;font-weight:600}.price-down[_ngcontent-%COMP%]{color:#f44336!important;font-weight:600}.text-muted[_ngcontent-%COMP%]{color:#6c757d;font-style:italic}.purchases-section[_ngcontent-%COMP%]{margin-top:1rem}@media (max-width: 768px){.details-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.selector-content[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:1rem}}"]});let i=m;return i})();export{Ce as ControleItensComponent};
