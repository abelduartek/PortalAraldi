import{b as be}from"./chunk-4UXQKXKU.js";import{a as xe,b as ye}from"./chunk-4EGVALWB.js";import{a as ge}from"./chunk-PZY37AG5.js";import{a as W}from"./chunk-35TMQQUT.js";import{a as Ce,b as M,d as we,k as ve}from"./chunk-BKUSUYWF.js";import"./chunk-CGJ4C2IJ.js";import{a as ue,b as he,g as R}from"./chunk-7F2FX24T.js";import{H as _e,J as fe,y as I,z as B}from"./chunk-ZOL5ZLUF.js";import{a as se,b as ce,d as de,g as pe,k as me}from"./chunk-KRKX4DJQ.js";import{$b as ne,Ab as D,Bb as p,Cb as w,Db as $,Gb as v,Ha as s,Hb as x,Ib as y,Jb as ee,Kb as te,Lb as P,Ma as T,Mb as ie,O as j,Q as L,Sa as E,Ta as Q,Xa as f,Z as h,Za as b,_,a as S,ba as N,fb as H,gb as m,hb as l,ib as r,jb as U,kb as q,la as A,lb as G,lc as oe,mb as J,mc as F,nb as C,nc as le,ob as g,oc as re,pb as u,pc as ae,qc as k,sb as K,tb as X,ub as V,vb as O,yb as Y,zb as Z}from"./chunk-QFKUKTN6.js";var Ee=["inputtext"],Fe=(n,c)=>({"p-inputtext p-chips-multiple-container":!0,"p-focus":n,"p-disabled":c}),ke=n=>({"p-chips-clearable":n}),Ie=n=>({$implicit:n});function Ve(n,c){n&1&&J(0)}function Oe(n,c){if(n&1&&(l(0,"span",11),p(1),r()),n&2){let e=u().$implicit,i=u();s(),w(i.field?i.resolveFieldData(e,i.field):e)}}function De(n,c){if(n&1){let e=C();l(0,"TimesCircleIcon",14),g("click",function(t){h(e);let o=u(2).index,d=u();return _(d.removeItem(t,o))}),r()}n&2&&m("styleClass","p-chips-token-icon")}function Pe(n,c){}function Be(n,c){n&1&&f(0,Pe,0,0,"ng-template")}function Re(n,c){if(n&1){let e=C();l(0,"span",15),g("click",function(t){h(e);let o=u(2).index,d=u();return _(d.removeItem(t,o))}),f(1,Be,1,0,null,16),r()}if(n&2){let e=u(3);s(),m("ngTemplateOutlet",e.removeTokenIconTemplate)}}function We(n,c){if(n&1&&(q(0),f(1,De,1,1,"TimesCircleIcon",12)(2,Re,2,1,"span",13),G()),n&2){let e=u(2);s(),m("ngIf",!e.removeTokenIconTemplate),s(),m("ngIf",e.removeTokenIconTemplate)}}function ze(n,c){if(n&1){let e=C();l(0,"li",8,1),g("click",function(t){let o=h(e).$implicit,d=u();return _(d.onItemClick(t,o))}),f(2,Ve,1,0,"ng-container",9)(3,Oe,2,1,"span",10)(4,We,3,2,"ng-container",7),r()}if(n&2){let e=c.$implicit,i=u();s(2),m("ngTemplateOutlet",i.itemTemplate)("ngTemplateOutletContext",P(4,Ie,e)),s(),m("ngIf",!i.itemTemplate),s(),m("ngIf",!i.disabled)}}function je(n,c){if(n&1){let e=C();l(0,"TimesIcon",14),g("click",function(){h(e);let t=u(2);return _(t.clear())}),r()}n&2&&m("styleClass","p-chips-clear-icon")}function Le(n,c){}function Ne(n,c){n&1&&f(0,Le,0,0,"ng-template")}function Ae(n,c){if(n&1){let e=C();l(0,"span",18),g("click",function(){h(e);let t=u(2);return _(t.clear())}),f(1,Ne,1,0,null,16),r()}if(n&2){let e=u(2);s(),m("ngTemplateOutlet",e.clearIconTemplate)}}function Qe(n,c){if(n&1&&(l(0,"li"),f(1,je,1,1,"TimesIcon",12)(2,Ae,2,1,"span",17),r()),n&2){let e=u();s(),m("ngIf",!e.clearIconTemplate),s(),m("ngIf",e.clearIconTemplate)}}var He={provide:se,useExisting:j(()=>z),multi:!0},z=(()=>{class n{document;el;cd;style;styleClass;disabled;field;placeholder;max;ariaLabelledBy;tabindex;inputId;allowDuplicate=!0;inputStyle;inputStyleClass;addOnTab;addOnBlur;separator;showClear=!1;onAdd=new b;onRemove=new b;onFocus=new b;onBlur=new b;onChipClick=new b;onClear=new b;inputViewChild;templates;itemTemplate;removeTokenIconTemplate;clearIconTemplate;value;onModelChange=()=>{};onModelTouched=()=>{};valueChanged;focus;filled;get isValueMaxLimited(){return this.max&&this.value&&this.max===this.value.length}constructor(e,i,t){this.document=e,this.el=i,this.cd=t}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":this.itemTemplate=e.template;break;case"removetokenicon":this.removeTokenIconTemplate=e.template;break;case"clearicon":this.clearIconTemplate=e.template;break;default:this.itemTemplate=e.template;break}}),this.updateFilledState()}onClick(){this.inputViewChild?.nativeElement.focus()}onInput(){this.updateFilledState()}onPaste(e){this.disabled||(this.separator&&((e.clipboardData||this.document.defaultView.clipboardData).getData("Text").split(this.separator).forEach(t=>{this.addItem(e,t,!0)}),this.inputViewChild.nativeElement.value=""),this.updateFilledState())}updateFilledState(){!this.value||this.value.length===0?this.filled=this.inputViewChild&&this.inputViewChild.nativeElement&&this.inputViewChild.nativeElement.value!="":this.filled=!0}onItemClick(e,i){this.onChipClick.emit({originalEvent:e,value:i})}writeValue(e){this.value=e,this.updateMaxedOut(),this.updateFilledState(),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}resolveFieldData(e,i){if(e&&i){if(i.indexOf(".")==-1)return e[i];{let d=i.split("."),a=e;for(var t=0,o=d.length;t<o;++t)a=a[d[t]];return a}}else return null}onInputFocus(e){this.focus=!0,this.onFocus.emit(e)}onInputBlur(e){this.focus=!1,this.addOnBlur&&this.inputViewChild.nativeElement.value&&this.addItem(e,this.inputViewChild.nativeElement.value,!1),this.onModelTouched(),this.onBlur.emit(e)}removeItem(e,i){if(this.disabled)return;let t=this.value[i];this.value=this.value.filter((o,d)=>d!=i),this.onModelChange(this.value),this.onRemove.emit({originalEvent:e,value:t}),this.updateFilledState(),this.updateMaxedOut()}addItem(e,i,t){this.value=this.value||[],i&&i.trim().length&&(this.allowDuplicate||this.value.indexOf(i)===-1)&&!this.isValueMaxLimited&&(this.value=[...this.value,i],this.onModelChange(this.value),this.onAdd.emit({originalEvent:e,value:i})),this.updateFilledState(),this.updateMaxedOut(),this.inputViewChild.nativeElement.value="",t&&e.preventDefault()}clear(){this.value=null,this.updateFilledState(),this.onModelChange(this.value),this.updateMaxedOut(),this.onClear.emit()}onKeydown(e){switch(e.which){case 8:if(this.inputViewChild.nativeElement.value.length===0&&this.value&&this.value.length>0){this.value=[...this.value];let i=this.value.pop();this.onModelChange(this.value),this.onRemove.emit({originalEvent:e,value:i}),this.updateFilledState()}break;case 13:this.addItem(e,this.inputViewChild.nativeElement.value,!0);break;case 9:this.addOnTab&&this.inputViewChild.nativeElement.value!==""&&this.addItem(e,this.inputViewChild.nativeElement.value,!0);break;default:this.max&&this.value&&this.max===this.value.length?e.preventDefault():this.separator&&(this.separator===e.key||e.key.match(this.separator))&&this.addItem(e,this.inputViewChild.nativeElement.value,!0);break}}updateMaxedOut(){this.inputViewChild&&this.inputViewChild.nativeElement&&(this.isValueMaxLimited?(this.inputViewChild.nativeElement.blur(),this.inputViewChild.nativeElement.disabled=!0):(this.disabled&&this.inputViewChild.nativeElement.blur(),this.inputViewChild.nativeElement.disabled=this.disabled||!1))}static \u0275fac=function(i){return new(i||n)(T(N),T(A),T(ne))};static \u0275cmp=E({type:n,selectors:[["p-chips"]],contentQueries:function(i,t,o){if(i&1&&K(o,I,4),i&2){let d;V(d=O())&&(t.templates=d)}},viewQuery:function(i,t){if(i&1&&X(Ee,5),i&2){let o;V(o=O())&&(t.inputViewChild=o.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(i,t){i&2&&Y("p-inputwrapper-filled",t.filled)("p-inputwrapper-focus",t.focus)("p-chips-clearable",t.showClear)},inputs:{style:"style",styleClass:"styleClass",disabled:"disabled",field:"field",placeholder:"placeholder",max:"max",ariaLabelledBy:"ariaLabelledBy",tabindex:"tabindex",inputId:"inputId",allowDuplicate:"allowDuplicate",inputStyle:"inputStyle",inputStyleClass:"inputStyleClass",addOnTab:"addOnTab",addOnBlur:"addOnBlur",separator:"separator",showClear:"showClear"},outputs:{onAdd:"onAdd",onRemove:"onRemove",onFocus:"onFocus",onBlur:"onBlur",onChipClick:"onChipClick",onClear:"onClear"},standalone:!1,features:[ee([He])],decls:7,vars:21,consts:[["inputtext",""],["token",""],[3,"click","ngClass","ngStyle"],[3,"ngClass"],["class","p-chips-token",3,"click",4,"ngFor","ngForOf"],[1,"p-chips-input-token",3,"ngClass"],["type","text",3,"keydown","input","paste","focus","blur","disabled","ngStyle"],[4,"ngIf"],[1,"p-chips-token",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-chips-token-label",4,"ngIf"],[1,"p-chips-token-label"],[3,"styleClass","click",4,"ngIf"],["class","p-chips-token-icon",3,"click",4,"ngIf"],[3,"click","styleClass"],[1,"p-chips-token-icon",3,"click"],[4,"ngTemplateOutlet"],["class","p-chips-clear-icon",3,"click",4,"ngIf"],[1,"p-chips-clear-icon",3,"click"]],template:function(i,t){if(i&1){let o=C();l(0,"div",2),g("click",function(){return h(o),_(t.onClick())}),l(1,"ul",3),f(2,ze,5,6,"li",4),l(3,"li",5)(4,"input",6,0),g("keydown",function(a){return h(o),_(t.onKeydown(a))})("input",function(){return h(o),_(t.onInput())})("paste",function(a){return h(o),_(t.onPaste(a))})("focus",function(a){return h(o),_(t.onInputFocus(a))})("blur",function(a){return h(o),_(t.onInputBlur(a))}),r()(),f(6,Qe,3,2,"li",7),r()()}i&2&&(D(t.styleClass),m("ngClass","p-chips p-component")("ngStyle",t.style),s(),m("ngClass",ie(16,Fe,t.focus,t.disabled)),s(),m("ngForOf",t.value),s(),m("ngClass",P(19,ke,t.showClear&&!t.disabled)),s(),D(t.inputStyleClass),m("disabled",t.disabled)("ngStyle",t.inputStyle),H("id",t.inputId)("placeholder",t.value&&t.value.length?null:t.placeholder)("tabindex",t.tabindex)("aria-labelledby",t.ariaLabelledBy),s(2),m("ngIf",t.value!=null&&t.filled&&!t.disabled&&t.showClear))},dependencies:()=>[oe,F,le,ae,re,W,R],styles:[`@layer primeng{.p-chips{display:inline-flex}.p-chips-multiple-container{margin:0;padding:0;list-style-type:none;cursor:text;overflow:hidden;display:flex;align-items:center;flex-wrap:wrap}.p-chips-token{cursor:default;display:inline-flex;align-items:center;flex:0 0 auto;max-width:100%}.p-chips-token-label{min-width:0%;overflow:auto}.p-chips-token-label::-webkit-scrollbar{display:none}.p-chips-input-token{flex:1 1 auto;display:inline-flex}.p-chips-token-icon{cursor:pointer}.p-chips-input-token input{border:0 none;outline:0 none;background-color:transparent;margin:0;padding:0;box-shadow:none;border-radius:0;width:100%}.p-fluid .p-chips{display:flex}.p-chips-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-chips-clearable .p-inputtext{position:relative}}
`],encapsulation:2,changeDetection:0})}return n})(),Te=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Q({type:n});static \u0275inj=L({imports:[k,M,B,W,R,M,B]})}return n})();var qe=()=>({width:"700px"});function Ge(n,c){if(n&1){let e=C();l(0,"div",24)(1,"h3"),p(2,"Fornecedores Cadastrados"),r(),l(3,"button",25),g("click",function(){h(e);let t=u();return _(t.novoFornecedor())}),r()()}}function Je(n,c){n&1&&(l(0,"tr")(1,"th"),p(2,"CNPJ"),r(),l(3,"th"),p(4,"Raz\xE3o Social"),r(),l(5,"th"),p(6,"Telefone"),r(),l(7,"th"),p(8,"Email"),r(),l(9,"th"),p(10,"Itens Relacionados"),r(),l(11,"th"),p(12,"A\xE7\xF5es"),r()())}function Ke(n,c){if(n&1&&(l(0,"span",33),p(1),r()),n&2){let e=c.$implicit;s(),$(" ",e," ")}}function Xe(n,c){if(n&1){let e=C();l(0,"tr")(1,"td"),p(2),r(),l(3,"td")(4,"strong"),p(5),r(),U(6,"br"),l(7,"small",26),p(8),r()(),l(9,"td"),p(10),r(),l(11,"td"),p(12),r(),l(13,"td")(14,"div",27),f(15,Ke,2,1,"span",28),r()(),l(16,"td")(17,"div",29)(18,"button",30),g("click",function(){let t=h(e).$implicit,o=u();return _(o.editarFornecedor(t))}),r(),l(19,"button",31),g("click",function(){let t=h(e).$implicit,o=u();return _(o.verHistorico(t))}),r(),l(20,"button",32),g("click",function(){let t=h(e).$implicit,o=u();return _(o.excluirFornecedor(t))}),r()()()()}if(n&2){let e=c.$implicit;s(2),w(e.cnpj),s(3),w(e.razaoSocial),s(3),w(e.endereco),s(2),w(e.telefone),s(2),w(e.email),s(3),m("ngForOf",e.itensRelacionados)}}function Ye(n,c){if(n&1){let e=C();l(0,"div",34)(1,"button",35),g("click",function(){h(e);let t=u();return _(t.showDialog=!1)}),r(),l(2,"button",36),g("click",function(){h(e);let t=u();return _(t.salvarFornecedor())}),r()()}if(n&2){let e=u();s(2),m("label",e.editMode?"Atualizar":"Salvar")}}var Vt=(()=>{let c=class c{constructor(i){this.mockDataService=i,this.fornecedores=[],this.showDialog=!1,this.editMode=!1,this.selectedFornecedor=this.getEmptyFornecedor()}ngOnInit(){this.loadData()}loadData(){this.mockDataService.getFornecedores().subscribe(i=>{this.fornecedores=i})}getEmptyFornecedor(){return{id:0,cnpj:"",razaoSocial:"",endereco:"",telefone:"",email:"",itensRelacionados:[]}}novoFornecedor(){this.selectedFornecedor=this.getEmptyFornecedor(),this.editMode=!1,this.showDialog=!0}editarFornecedor(i){this.selectedFornecedor=S({},i),this.editMode=!0,this.showDialog=!0}salvarFornecedor(){if(this.editMode){let i=this.fornecedores.findIndex(t=>t.id===this.selectedFornecedor.id);i!==-1&&(this.fornecedores[i]=S({},this.selectedFornecedor))}else this.selectedFornecedor.id=Math.max(...this.fornecedores.map(i=>i.id))+1,this.fornecedores.push(S({},this.selectedFornecedor));this.showDialog=!1}excluirFornecedor(i){confirm(`Deseja realmente excluir o fornecedor "${i.razaoSocial}"?`)&&(this.fornecedores=this.fornecedores.filter(t=>t.id!==i.id))}verHistorico(i){console.log("Ver hist\xF3rico do fornecedor:",i)}};c.\u0275fac=function(t){return new(t||c)(T(ge))},c.\u0275cmp=E({type:c,selectors:[["app-fornecedores"]],decls:41,vars:15,consts:[[1,"fornecedores-cadastro"],[1,"page-header"],[1,"fornecedores-section"],["pTemplate","header"],[3,"value","responsive"],["pTemplate","body"],[3,"visibleChange","header","visible","modal","closable"],[1,"form-grid"],[1,"form-field"],["for","cnpj"],["pInputText","","id","cnpj","placeholder","00.000.000/0000-00",1,"w-full",3,"ngModelChange","ngModel"],["for","razaoSocial"],["pInputText","","id","razaoSocial","placeholder","Raz\xE3o social da empresa",1,"w-full",3,"ngModelChange","ngModel"],[1,"form-field","full-width"],["for","endereco"],["pInputText","","id","endereco","placeholder","Endere\xE7o completo",1,"w-full",3,"ngModelChange","ngModel"],["for","telefone"],["pInputText","","id","telefone","placeholder","(00) 0000-0000",1,"w-full",3,"ngModelChange","ngModel"],["for","email"],["pInputText","","id","email","placeholder","email@fornecedor.com",1,"w-full",3,"ngModelChange","ngModel"],["for","itens"],["id","itens","placeholder","Digite um item e pressione Enter",1,"w-full",3,"ngModelChange","ngModel"],[1,"field-help"],["pTemplate","footer"],[1,"card-header"],["pButton","","label","Novo Fornecedor","icon","pi pi-plus",1,"p-button-primary",3,"click"],[1,"text-muted"],[1,"itens-relacionados"],["class","item-badge",4,"ngFor","ngForOf"],[1,"action-buttons"],["pButton","","icon","pi pi-pencil","pTooltip","Editar",1,"p-button-text","p-button-sm",3,"click"],["pButton","","icon","pi pi-history","pTooltip","Ver Hist\xF3rico",1,"p-button-text","p-button-sm",3,"click"],["pButton","","icon","pi pi-trash","pTooltip","Excluir",1,"p-button-text","p-button-sm","p-button-danger",3,"click"],[1,"item-badge"],[1,"dialog-footer"],["pButton","","label","Cancelar","icon","pi pi-times",1,"p-button-text",3,"click"],["pButton","","icon","pi pi-check",1,"p-button-primary",3,"click","label"]],template:function(t,o){t&1&&(l(0,"div",0)(1,"div",1)(2,"h2"),p(3,"Cadastro de Fornecedores"),r(),l(4,"p"),p(5,"Gerencie os fornecedores da empresa"),r()(),l(6,"div",2)(7,"p-card"),f(8,Ge,4,0,"ng-template",3),l(9,"p-table",4),f(10,Je,13,0,"ng-template",3)(11,Xe,21,6,"ng-template",5),r()()()(),l(12,"p-dialog",6),y("visibleChange",function(a){return x(o.showDialog,a)||(o.showDialog=a),a}),l(13,"div",7)(14,"div",8)(15,"label",9),p(16,"CNPJ *"),r(),l(17,"input",10),y("ngModelChange",function(a){return x(o.selectedFornecedor.cnpj,a)||(o.selectedFornecedor.cnpj=a),a}),r()(),l(18,"div",8)(19,"label",11),p(20,"Raz\xE3o Social *"),r(),l(21,"input",12),y("ngModelChange",function(a){return x(o.selectedFornecedor.razaoSocial,a)||(o.selectedFornecedor.razaoSocial=a),a}),r()(),l(22,"div",13)(23,"label",14),p(24,"Endere\xE7o"),r(),l(25,"input",15),y("ngModelChange",function(a){return x(o.selectedFornecedor.endereco,a)||(o.selectedFornecedor.endereco=a),a}),r()(),l(26,"div",8)(27,"label",16),p(28,"Telefone"),r(),l(29,"input",17),y("ngModelChange",function(a){return x(o.selectedFornecedor.telefone,a)||(o.selectedFornecedor.telefone=a),a}),r()(),l(30,"div",8)(31,"label",18),p(32,"Email"),r(),l(33,"input",19),y("ngModelChange",function(a){return x(o.selectedFornecedor.email,a)||(o.selectedFornecedor.email=a),a}),r()(),l(34,"div",13)(35,"label",20),p(36,"Itens Relacionados"),r(),l(37,"p-chips",21),y("ngModelChange",function(a){return x(o.selectedFornecedor.itensRelacionados,a)||(o.selectedFornecedor.itensRelacionados=a),a}),r(),l(38,"small",22),p(39,"Digite o nome do item e pressione Enter para adicionar"),r()()(),f(40,Ye,3,1,"ng-template",23),r()),t&2&&(s(9),m("value",o.fornecedores)("responsive",!0),s(3),Z(te(14,qe)),m("header",o.editMode?"Editar Fornecedor":"Novo Fornecedor"),v("visible",o.showDialog),m("modal",!0)("closable",!0),s(5),v("ngModel",o.selectedFornecedor.cnpj),s(4),v("ngModel",o.selectedFornecedor.razaoSocial),s(4),v("ngModel",o.selectedFornecedor.endereco),s(4),v("ngModel",o.selectedFornecedor.telefone),s(4),v("ngModel",o.selectedFornecedor.email),s(4),v("ngModel",o.selectedFornecedor.itensRelacionados))},dependencies:[k,F,he,ue,I,ve,we,fe,_e,ye,xe,M,Ce,be,Te,z,me,ce,de,pe],styles:[".fornecedores-cadastro[_ngcontent-%COMP%]{padding:2rem}.page-header[_ngcontent-%COMP%]{margin-bottom:2rem}.page-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 .5rem;color:#2c3e50;font-size:2rem;font-weight:600}.page-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#6c757d;font-size:1.1rem}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem}.card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#2c3e50}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:.5rem}.text-muted[_ngcontent-%COMP%]{color:#6c757d;font-size:.9rem}.itens-relacionados[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;max-width:200px}.item-badge[_ngcontent-%COMP%]{background:#e9ecef;color:#495057;padding:.25rem .5rem;border-radius:12px;font-size:.8rem;font-weight:500}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1rem;padding:1rem 0}.form-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.form-field.full-width[_ngcontent-%COMP%]{grid-column:1 / -1}.form-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:#2c3e50;font-size:.9rem}.field-help[_ngcontent-%COMP%]{color:#6c757d;font-size:.8rem;margin-top:.25rem}.w-full[_ngcontent-%COMP%]{width:100%}.dialog-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem}@media (max-width: 768px){.card-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;align-items:stretch}.form-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.form-field.full-width[_ngcontent-%COMP%]{grid-column:1}}"]});let n=c;return n})();export{Vt as FornecedoresComponent};
