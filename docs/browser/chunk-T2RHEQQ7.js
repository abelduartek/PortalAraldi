import{a as Q,b as U}from"./chunk-4EGVALWB.js";import{a as R}from"./chunk-PZY37AG5.js";import{a as F,b as J}from"./chunk-4YQRIOBB.js";import{a as G,b as q,d as H,k as K}from"./chunk-BKUSUYWF.js";import"./chunk-CGJ4C2IJ.js";import{a as k,b as N,j as L,k as A}from"./chunk-7F2FX24T.js";import{H as V,J as z,y as I}from"./chunk-ZOL5ZLUF.js";import{b as D,d as B,g as O,k as W}from"./chunk-KRKX4DJQ.js";import{Bb as a,Cb as M,Gb as c,Ha as p,Hb as u,Ib as g,Kb as P,Ma as x,Sa as v,Xa as S,Z as f,_ as h,a as w,gb as C,hb as e,ib as t,jb as E,nb as y,ob as j,pb as m,qc as T,zb as b}from"./chunk-QFKUKTN6.js";var X=()=>({width:"600px"});function Y(d,s){if(d&1){let r=y();e(0,"div",23)(1,"h3"),a(2,"CNPJs Cadastrados"),t(),e(3,"button",24),j("click",function(){f(r);let l=m();return h(l.novoCnpj())}),t()()}}function Z(d,s){d&1&&(e(0,"tr")(1,"th"),a(2,"CNPJ"),t(),e(3,"th"),a(4,"Nome Fantasia"),t(),e(5,"th"),a(6,"Raz\xE3o Social"),t(),e(7,"th"),a(8,"Conta Banc\xE1ria"),t(),e(9,"th"),a(10,"\xDAltima Importa\xE7\xE3o"),t(),e(11,"th"),a(12,"Status"),t(),e(13,"th"),a(14,"A\xE7\xF5es"),t()())}function $(d,s){if(d&1){let r=y();e(0,"tr")(1,"td"),a(2),t(),e(3,"td"),a(4),t(),e(5,"td"),a(6),t(),e(7,"td"),a(8),t(),e(9,"td"),a(10),t(),e(11,"td"),E(12,"p-tag",25),t(),e(13,"td")(14,"div",26)(15,"button",27),j("click",function(){let l=f(r).$implicit,n=m();return h(n.editarCnpj(l))}),t(),e(16,"button",28),j("click",function(){let l=f(r).$implicit,n=m();return h(n.excluirCnpj(l))}),t()()()()}if(d&2){let r=s.$implicit,i=m();p(2),M(r.cnpj),p(2),M(r.nomeFantasia),p(2),M(r.razaoSocial),p(2),M(r.contaBancaria),p(2),M(i.formatDate(r.ultimaImportacao)),p(2),C("severity",i.getStatusSeverity(r.status))("value",r.status)}}function ee(d,s){if(d&1){let r=y();e(0,"div",29)(1,"button",30),j("click",function(){f(r);let l=m();return h(l.showDialog=!1)}),t(),e(2,"button",31),j("click",function(){f(r);let l=m();return h(l.salvarCnpj())}),t()()}if(d&2){let r=m();p(2),C("label",r.editMode?"Atualizar":"Salvar")}}var we=(()=>{let s=class s{constructor(i){this.mockDataService=i,this.cnpjs=[],this.showDialog=!1,this.editMode=!1,this.selectedCnpj=this.getEmptyCnpj(),this.statusOptions=[{label:"Ativo",value:"ativo"},{label:"Inativo",value:"inativo"}]}ngOnInit(){this.loadData()}loadData(){this.mockDataService.getCNPJs().subscribe(i=>{this.cnpjs=i})}getEmptyCnpj(){return{id:0,cnpj:"",nomeFantasia:"",razaoSocial:"",endereco:"",contaBancaria:"",ultimaImportacao:new Date,status:"ativo"}}novoCnpj(){this.selectedCnpj=this.getEmptyCnpj(),this.editMode=!1,this.showDialog=!0}editarCnpj(i){this.selectedCnpj=w({},i),this.editMode=!0,this.showDialog=!0}salvarCnpj(){if(this.editMode){let i=this.cnpjs.findIndex(l=>l.id===this.selectedCnpj.id);i!==-1&&(this.cnpjs[i]=w({},this.selectedCnpj))}else this.selectedCnpj.id=Math.max(...this.cnpjs.map(i=>i.id))+1,this.cnpjs.push(w({},this.selectedCnpj));this.showDialog=!1}excluirCnpj(i){confirm(`Deseja realmente excluir o CNPJ ${i.cnpj}?`)&&(this.cnpjs=this.cnpjs.filter(l=>l.id!==i.id))}getStatusSeverity(i){return i==="ativo"?"success":"danger"}formatDate(i){return new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(i))}};s.\u0275fac=function(l){return new(l||s)(x(R))},s.\u0275cmp=v({type:s,selectors:[["app-cnpjs"]],decls:39,vars:16,consts:[[1,"cnpjs-cadastro"],[1,"page-header"],[1,"cnpjs-section"],["pTemplate","header"],[3,"value","responsive"],["pTemplate","body"],[3,"visibleChange","header","visible","modal","closable"],[1,"form-grid"],[1,"form-field"],["for","cnpj"],["pInputText","","id","cnpj","placeholder","00.000.000/0000-00",1,"w-full",3,"ngModelChange","ngModel"],["for","nomeFantasia"],["pInputText","","id","nomeFantasia","placeholder","Nome fantasia da empresa",1,"w-full",3,"ngModelChange","ngModel"],[1,"form-field","full-width"],["for","razaoSocial"],["pInputText","","id","razaoSocial","placeholder","Raz\xE3o social da empresa",1,"w-full",3,"ngModelChange","ngModel"],["for","endereco"],["pInputText","","id","endereco","placeholder","Endere\xE7o completo",1,"w-full",3,"ngModelChange","ngModel"],["for","contaBancaria"],["pInputText","","id","contaBancaria","placeholder","000-00000-0",1,"w-full",3,"ngModelChange","ngModel"],["for","status"],["id","status","optionLabel","label","optionValue","value","placeholder","Selecione o status",1,"w-full",3,"ngModelChange","options","ngModel"],["pTemplate","footer"],[1,"card-header"],["pButton","","label","Novo CNPJ","icon","pi pi-plus",1,"p-button-primary",3,"click"],[3,"severity","value"],[1,"action-buttons"],["pButton","","icon","pi pi-pencil","pTooltip","Editar",1,"p-button-text","p-button-sm",3,"click"],["pButton","","icon","pi pi-trash","pTooltip","Excluir",1,"p-button-text","p-button-sm","p-button-danger",3,"click"],[1,"dialog-footer"],["pButton","","label","Cancelar","icon","pi pi-times",1,"p-button-text",3,"click"],["pButton","","icon","pi pi-check",1,"p-button-primary",3,"click","label"]],template:function(l,n){l&1&&(e(0,"div",0)(1,"div",1)(2,"h2"),a(3,"Cadastro de CNPJs"),t(),e(4,"p"),a(5,"Gerencie os CNPJs monitorados pelo sistema"),t()(),e(6,"div",2)(7,"p-card"),S(8,Y,4,0,"ng-template",3),e(9,"p-table",4),S(10,Z,15,0,"ng-template",3)(11,$,17,7,"ng-template",5),t()()()(),e(12,"p-dialog",6),g("visibleChange",function(o){return u(n.showDialog,o)||(n.showDialog=o),o}),e(13,"div",7)(14,"div",8)(15,"label",9),a(16,"CNPJ *"),t(),e(17,"input",10),g("ngModelChange",function(o){return u(n.selectedCnpj.cnpj,o)||(n.selectedCnpj.cnpj=o),o}),t()(),e(18,"div",8)(19,"label",11),a(20,"Nome Fantasia *"),t(),e(21,"input",12),g("ngModelChange",function(o){return u(n.selectedCnpj.nomeFantasia,o)||(n.selectedCnpj.nomeFantasia=o),o}),t()(),e(22,"div",13)(23,"label",14),a(24,"Raz\xE3o Social *"),t(),e(25,"input",15),g("ngModelChange",function(o){return u(n.selectedCnpj.razaoSocial,o)||(n.selectedCnpj.razaoSocial=o),o}),t()(),e(26,"div",13)(27,"label",16),a(28,"Endere\xE7o"),t(),e(29,"input",17),g("ngModelChange",function(o){return u(n.selectedCnpj.endereco,o)||(n.selectedCnpj.endereco=o),o}),t()(),e(30,"div",8)(31,"label",18),a(32,"Conta Banc\xE1ria"),t(),e(33,"input",19),g("ngModelChange",function(o){return u(n.selectedCnpj.contaBancaria,o)||(n.selectedCnpj.contaBancaria=o),o}),t()(),e(34,"div",8)(35,"label",20),a(36,"Status *"),t(),e(37,"p-dropdown",21),g("ngModelChange",function(o){return u(n.selectedCnpj.status,o)||(n.selectedCnpj.status=o),o}),t()()(),S(38,ee,3,1,"ng-template",22),t()),l&2&&(p(9),C("value",n.cnpjs)("responsive",!0),p(3),b(P(15,X)),C("header",n.editMode?"Editar CNPJ":"Novo CNPJ"),c("visible",n.showDialog),C("modal",!0)("closable",!0),p(5),c("ngModel",n.selectedCnpj.cnpj),p(4),c("ngModel",n.selectedCnpj.nomeFantasia),p(4),c("ngModel",n.selectedCnpj.razaoSocial),p(4),c("ngModel",n.selectedCnpj.endereco),p(4),c("ngModel",n.selectedCnpj.contaBancaria),p(4),C("options",n.statusOptions),c("ngModel",n.selectedCnpj.status))},dependencies:[T,N,k,I,K,H,z,V,J,F,U,Q,q,G,A,L,W,D,B,O],styles:[".cnpjs-cadastro[_ngcontent-%COMP%]{padding:2rem}.page-header[_ngcontent-%COMP%]{margin-bottom:2rem}.page-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 .5rem;color:#2c3e50;font-size:2rem;font-weight:600}.page-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#6c757d;font-size:1.1rem}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem}.card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#2c3e50}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:.5rem}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1rem;padding:1rem 0}.form-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.form-field.full-width[_ngcontent-%COMP%]{grid-column:1 / -1}.form-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:#2c3e50;font-size:.9rem}.w-full[_ngcontent-%COMP%]{width:100%}.dialog-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem}@media (max-width: 768px){.card-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;align-items:stretch}.form-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.form-field.full-width[_ngcontent-%COMP%]{grid-column:1}}"]});let d=s;return d})();export{we as CnpjsComponent};
