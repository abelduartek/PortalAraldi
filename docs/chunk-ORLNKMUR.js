import{a as H,b as J}from"./chunk-4UXQKXKU.js";import{a as G,b as q}from"./chunk-4EGVALWB.js";import{a as j}from"./chunk-PZY37AG5.js";import{a as z,b as F,d as A,k as L}from"./chunk-BKUSUYWF.js";import"./chunk-CGJ4C2IJ.js";import{a as I,b as B}from"./chunk-7F2FX24T.js";import{H as W,J as N,y as V}from"./chunk-ZOL5ZLUF.js";import{b as D,d as P,g as k,k as O}from"./chunk-KRKX4DJQ.js";import{Bb as l,Cb as b,Gb as C,Ha as s,Hb as x,Ib as M,Kb as S,Ma as v,Sa as y,Xa as h,Z as d,_ as u,a as f,gb as _,hb as e,ib as i,nb as T,ob as g,pb as m,qc as R,zb as E}from"./chunk-QFKUKTN6.js";var K=()=>({width:"500px"});function Q(a,p){if(a&1){let r=T();e(0,"div",14)(1,"h3"),l(2,"Tipos de Receita Cadastrados"),i(),e(3,"button",15),g("click",function(){d(r);let o=m();return u(o.novoTipo())}),i()()}}function U(a,p){a&1&&(e(0,"tr")(1,"th"),l(2,"Nome"),i(),e(3,"th"),l(4,"Descri\xE7\xE3o"),i(),e(5,"th"),l(6,"A\xE7\xF5es"),i()())}function X(a,p){if(a&1){let r=T();e(0,"tr")(1,"td")(2,"strong"),l(3),i()(),e(4,"td"),l(5),i(),e(6,"td")(7,"div",16)(8,"button",17),g("click",function(){let o=d(r).$implicit,n=m();return u(n.editarTipo(o))}),i(),e(9,"button",18),g("click",function(){let o=d(r).$implicit,n=m();return u(n.excluirTipo(o))}),i()()()()}if(a&2){let r=p.$implicit;s(3),b(r.nome),s(2),b(r.descricao)}}function Y(a,p){if(a&1){let r=T();e(0,"div",19)(1,"button",20),g("click",function(){d(r);let o=m();return u(o.showDialog=!1)}),i(),e(2,"button",21),g("click",function(){d(r);let o=m();return u(o.salvarTipo())}),i()()}if(a&2){let r=m();s(2),_("label",r.editMode?"Atualizar":"Salvar")}}var fe=(()=>{let p=class p{constructor(t){this.mockDataService=t,this.tiposReceita=[],this.showDialog=!1,this.editMode=!1,this.selectedTipo=this.getEmptyTipo()}ngOnInit(){this.loadData()}loadData(){this.mockDataService.getTiposReceita().subscribe(t=>{this.tiposReceita=t})}getEmptyTipo(){return{id:0,nome:"",descricao:""}}novoTipo(){this.selectedTipo=this.getEmptyTipo(),this.editMode=!1,this.showDialog=!0}editarTipo(t){this.selectedTipo=f({},t),this.editMode=!0,this.showDialog=!0}salvarTipo(){if(this.editMode){let t=this.tiposReceita.findIndex(o=>o.id===this.selectedTipo.id);t!==-1&&(this.tiposReceita[t]=f({},this.selectedTipo))}else this.selectedTipo.id=Math.max(...this.tiposReceita.map(t=>t.id))+1,this.tiposReceita.push(f({},this.selectedTipo));this.showDialog=!1}excluirTipo(t){confirm(`Deseja realmente excluir o tipo de receita "${t.nome}"?`)&&(this.tiposReceita=this.tiposReceita.filter(o=>o.id!==t.id))}};p.\u0275fac=function(o){return new(o||p)(v(j))},p.\u0275cmp=y({type:p,selectors:[["app-tipos-receita"]],decls:24,vars:11,consts:[[1,"tipos-receita-cadastro"],[1,"page-header"],[1,"tipos-section"],["pTemplate","header"],[3,"value","responsive"],["pTemplate","body"],[3,"visibleChange","header","visible","modal","closable"],[1,"form-container"],[1,"form-field"],["for","nome"],["pInputText","","id","nome","placeholder","Nome do tipo de receita",1,"w-full",3,"ngModelChange","ngModel"],["for","descricao"],["pInputTextarea","","id","descricao","placeholder","Descri\xE7\xE3o do tipo de receita","rows","3",1,"w-full",3,"ngModelChange","ngModel"],["pTemplate","footer"],[1,"card-header"],["pButton","","label","Novo Tipo de Receita","icon","pi pi-plus",1,"p-button-primary",3,"click"],[1,"action-buttons"],["pButton","","icon","pi pi-pencil","pTooltip","Editar",1,"p-button-text","p-button-sm",3,"click"],["pButton","","icon","pi pi-trash","pTooltip","Excluir",1,"p-button-text","p-button-sm","p-button-danger",3,"click"],[1,"dialog-footer"],["pButton","","label","Cancelar","icon","pi pi-times",1,"p-button-text",3,"click"],["pButton","","icon","pi pi-check",1,"p-button-primary",3,"click","label"]],template:function(o,n){o&1&&(e(0,"div",0)(1,"div",1)(2,"h2"),l(3,"Cadastro de Tipos de Receita"),i(),e(4,"p"),l(5,"Gerencie as categorias de receitas da empresa"),i()(),e(6,"div",2)(7,"p-card"),h(8,Q,4,0,"ng-template",3),e(9,"p-table",4),h(10,U,7,0,"ng-template",3)(11,X,10,2,"ng-template",5),i()()()(),e(12,"p-dialog",6),M("visibleChange",function(c){return x(n.showDialog,c)||(n.showDialog=c),c}),e(13,"div",7)(14,"div",8)(15,"label",9),l(16,"Nome *"),i(),e(17,"input",10),M("ngModelChange",function(c){return x(n.selectedTipo.nome,c)||(n.selectedTipo.nome=c),c}),i()(),e(18,"div",8)(19,"label",11),l(20,"Descri\xE7\xE3o"),i(),e(21,"textarea",12),M("ngModelChange",function(c){return x(n.selectedTipo.descricao,c)||(n.selectedTipo.descricao=c),c}),l(22,"      "),i()()(),h(23,Y,3,1,"ng-template",13),i()),o&2&&(s(9),_("value",n.tiposReceita)("responsive",!0),s(3),E(S(10,K)),_("header",n.editMode?"Editar Tipo de Receita":"Novo Tipo de Receita"),C("visible",n.showDialog),_("modal",!0)("closable",!0),s(5),C("ngModel",n.selectedTipo.nome),s(4),C("ngModel",n.selectedTipo.descricao))},dependencies:[R,B,I,V,L,A,N,W,q,G,F,z,J,H,O,D,P,k],styles:[".tipos-receita-cadastro[_ngcontent-%COMP%]{padding:2rem}.page-header[_ngcontent-%COMP%]{margin-bottom:2rem}.page-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 .5rem;color:#2c3e50;font-size:2rem;font-weight:600}.page-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#6c757d;font-size:1.1rem}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem}.card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#2c3e50}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:.5rem}.form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem;padding:1rem 0}.form-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.form-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:#2c3e50;font-size:.9rem}.w-full[_ngcontent-%COMP%]{width:100%}.dialog-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem}@media (max-width: 768px){.card-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;align-items:stretch}}"]});let a=p;return a})();export{fe as TiposReceitaComponent};
